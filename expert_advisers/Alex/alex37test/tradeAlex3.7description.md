symbol: unfi
пользователь задает:

1. TP и SL
2. соотношение теней: один общий К (возможно, для автотестов потребуется разделить как было в 3.5)

касается всех сигналов:

1. SL и TP всегда переносим только 1 раз
   (2. в реальном роботе: точку входа мы делаем ниже на какой то коэффициент в процентах)

## сигнал №1

см. unfi 05.07 at 07:00 - вход
пример 2: 05.08 в 13:00 - вход

1. зеленая [i-3]
2. зеленая [i-2]
3. красная [i-1]
4. отношение теней на красной меньше 0.3 [i-1] (большой К)
   то входим на [i] по цене открытия [i-1]

### условия TP и SL

TP = 0.04
SL = 0.02

### смена TP и SL:

if (i > ([i of position] + 2)) (получили финальную цену и далее)
см. unfi 05.07 at 11:00
если мы в минусе, то TP в БУ
если в плюсе, то SL в БУ

## сигнал №2 пока убираем

## сигнал №3

08.07 at 07:00 - вход

1. зеленая [i-3]
2. зеленая [i-2]
3. красная [i-1]
4. у красной нет тени [i-1] (цена открытия = цена хая)
   то входим на [i] по цене закрытия [i-1]

условия TP и SL (такие же как у сигнала 1):
TP = 0.04
SL = 0.02

### смена TP и SL: (получили финальную цену и далее):

[i of position] + 2
см. unfi 05.07 at 11:00
если мы в минусе, то TP в БУ
если в плюсе, то SL в БУ

## сигнал №4

пример 1: 12.07 в 15:00
пример 2: 27.07 в 07:00
пример 3: 30.07 в 15:00 вход

1. одна красная свеча [i-1]
2. соотношение теней = 0.3 [i-1] (маленький коэффициент)
   вход по цене открытия [i-1]

условия TP и SL:
TP = 0.04
SL = 0.02

### смена ТP условие №1: (для примера 2)

1. если свеча зеленая, на которой зашли, т.е. closePrice[i of position] > OpenShort (и больше мы не меняем TP (см. выше))
   то переносим TP на точку входа

### смена TP и SL условие №2:

if (i >= [i of position] + 2)

пример 1: см. unfi 12.07 at 19:00 (получили финальную цену и далее)
пример 3: см. unfi 30.07 at 19:00 (получили финальную цену и далее) 2. если мы в минусе, то TP в БУ
если в плюсе, то SL в БУ

## сигнал №5 (копия сигнала 4, проверить так ли это)

25.07 в 23:00 - вход

1. одна красная свеча [i-1]
2. отношение теней на красной меньше 0.3 [i-1] (большой К)
   вход по цене открытия [i-1]

условия TP и SL (такие же как у сигнала 1):
TP = 0.04
SL = 0.02

### смена TP и SL:

1. (если свеча зеленая) и (closePrice этой зеленой > openShort), то переносим TP в БУ (как у сигнала 4)
2. SL переносим БУ на 2й свече [pos + 2] (см. 26.07 в 03:00) когда получаем финальную свечку (добавляем в сигнал 4)
